<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">

    <title>Blog 6</title>
  </head>

  <body>

    <h1>Blog 6</h1>

    <div id="container">
      <div class="box" id="box1">Drag Me</div>
      <div class="box" id="box2">Drag Me Too</div>
    </div>

    <p>As you can see above, this blog is about making draggable elements. Both rectangles above can be dragged anywhere
      on the screen. This was down by setting function calls for the events "onmousedown", "onmouseup", and
      "onmousemove".</p>


    <pre>
      function dragElement(elmnt) {
      
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
        elmnt.onmousedown = dragMouseDown;

        .
        . // in here is where the following functions are defined
        .
      }
    </pre>

    <div class="two_funcs">
      <pre>
      function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        
        // initialize drag
        document.onmousemove = elementDrag;
        
        // end drag
        document.onmouseup = closeDragElement;
      }
      </pre>

      <pre>
      function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;

        // set the element's new position:
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      }
      </pre>
    </div>

    <pre>
      function closeDragElement() {
        // stop moving when mouse button is released:
        document.onmouseup = null;
        document.onmousemove = null;
      }
    </pre>


    <p>I experimented with changing the onmouseup and onmousemove events to be on the elements rather than the document, but it seemed to cause weird delay issues. I'd like to look into that more and understand why that is the case.</p>
    
    <a href="https://www.w3schools.com/howto/howto_js_draggable.asp" target="_blank">Tutorial</a>

    <script src="script.js"></script>
  </body>

</html>
